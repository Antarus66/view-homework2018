# Домашнее задание

## Описание
Создать страницы для рынка валют.

## Страницы

1. Страница со списком валют.
    - Должна быть доступна по адресу /сurrencies
    - Должна содержать заголовок "Currency market".
    - Список должен содержать следующие данные:
        - Логотип
        - Имя
        - Короткое имя (bitcoin - btc)
        - Цена USD
        - Имя валюты должно быть кликабельно и вести на страницу соответствующей валюты.
        - Кнопки edit/delete для редактирования и удаления валюты.
    - Placeholder с текстом "No currencies" в случае пустого списка.

2. Страница отдельной валюты
    - Страница должна быть доступна по адресу /сurrencies/{id}
    - Заголовок страницы должен содержать имя валюты
    - Страница должна содержать данные:
        - Логотип
        - Имя
        - Короткое имя (bitcoin - btc)
        - Цена USD
    - Страница должна содержать кнопки edit/delete
        - При нажатии на delete валюта удаляется и происходит редирект на страницу /currencies (можно добавить модальное окно для подтверждения удаления, но не есть обязательным)
        - При нажатии на edit происходит редирект на страницу /currencies/{id}/edit  
    
3. Страница добавления валюты
    - Страница должна быть доступна по адресу /currencies/add
    - Страница должна содержать форму добавления валюты
        - Имя (значения не больше 255 символов)
        - Короткое имя (значения не больше 10 символов)
        - Ссылка на логотип
        - Цена USD
        - Все поля обязательны для заполнения
        - Все поля формы должны быть с валидацией
        - Ошибки валидации должны показываться под полями формы.
    - После успешного добавления должен быть показан список /currencies с новой записью.        

4. Страница редактирования валюты
    - Страница должна быть доступна по адресу /currencies/{id}/edit
    - Страница должна содержать форму редактирования (требования по валидации те же, что и к странице добавления)
    - После успешного сохранения должна быть показана страница /currencies/{id} с обновленными значениями.

### Установка

```
git clone
cd project dir
composer install
cp .env.example .env
php artisan key:generate
php artisan migrate:fresh --seed
```

Некоторые подготовительные данные находятся в database/seeds.

## Требования

### Основные
- Для выполнения взять код из этого репозитория. Репозиторий не должен быть форкнут.
- Страницы должны быть созданы с помощью темплейтов Blade.
- Темплейты должны наследовать друг друга.
- Должна присутствовать защита от XSS и CSRF атак.
- Все тесты должны проходить. Тесты менять нельзя, но очень даже можно смотреть. 
Если какой-то тест написан с ошибкой (sic!) - обращайтесь в комментариях.
- Выложить выполненное ДЗ в **отдельный** репозиторий на github/bitbucket.

### Дополнительные
- Должны быть использованы возможности PHP 7.1
    - https://habrahabr.ru/post/309858/
- Весь PHP код должен быть задокументирован с помощью PHPDoc согласно стандарту PSR-5.
    - https://github.com/phpDocumentor/fig-standards/tree/master/proposed
- Код должен быть отформатирован согласно PSR-12.
    - https://github.com/php-fig/fig-standards/blob/master/proposed/extended-coding-style-guide.md
- Приветствуется (но не обязательно) использование Material, Bootstrap или другого front-end фреймворка для добавления CSS стилей.

## Запуск тестов

1. Создайте APP_URL в .env

2. Запустите тесты
```
php artisan dusk
```

### Запуск тестов c Homestead

1. Зайдите на виртуальную машину через ssh из папки, где установлен Homestead
```
vagrant ssh
```

2. Перейдите в директорию проекта и запустите
```
php artisan serve --host=192.168.10.10 --port=8080
```

3. Установите в '.env' строку
```
APP_URL=http://192.168.10.10:8080
```

4. Теперь можно запустить тесты.
```
php artisan dusk
```

- см. https://laravel.com/docs/master/dusk